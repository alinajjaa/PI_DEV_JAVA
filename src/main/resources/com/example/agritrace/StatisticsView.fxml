<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<VBox xmlns:fx="http://javafx.com/fxml/1"
      xmlns="http://javafx.com/javafx/21"
      fx:controller="com.example.agritrace.Controllers.StatisticsController"
      spacing="20"
      alignment="CENTER"
      style="-fx-background-color: #ecf0f1;"
      >

    <Label text="ðŸ“Š Statistiques des contenus"
           style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

    <VBox spacing="20"

          style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0, 0, 5);"
          alignment="CENTER">

        <VBox spacing="10">
            <Label text="Blogs:" style="-fx-font-size: 18; -fx-text-fill: #7f8c8d;"/>
            <Label fx:id="totalBlogsLabel" style="-fx-font-size: 32; -fx-font-weight: bold; -fx-text-fill: #2ecc71;"/>
        </VBox>

        <VBox spacing="10">
            <Label text="Commentaires par blog:" style="-fx-font-size: 18; -fx-text-fill: #7f8c8d;"/>
            <Label fx:id="commentsPerBlogLabel" style="-fx-font-size: 32; -fx-font-weight: bold; -fx-text-fill: #3498db;"/>
        </VBox>

        <PieChart fx:id="commentsChart"
                  title="RÃ©partition des commentaires"
                  legendVisible="false"
                  prefWidth="500"
                  prefHeight="300"
                  style="-fx-font-size: 14px;"/>

        <!-- LÃ©gende personnalisÃ©e -->
        <HBox spacing="25" alignment="CENTER">
            <HBox spacing="8" alignment="CENTER">
                <Circle radius="8" fill="#e74c3c"/>
                <Label text="Blogs avec commentaires" style="-fx-font-size: 14; -fx-text-fill: #2c3e50;"/>
            </HBox>
            <HBox spacing="8" alignment="CENTER">
                <Circle radius="8" fill="#f1c40f"/>
                <Label text="Blogs sans commentaires" style="-fx-font-size: 14; -fx-text-fill: #2c3e50;"/>
            </HBox>
            <HBox spacing="8" alignment="CENTER">
                <Circle radius="8" fill="#27ae60"/>
                <Label text="Commentaires actifs" style="-fx-font-size: 14; -fx-text-fill: #2c3e50;"/>
            </HBox>
        </HBox>

    </VBox>

    <Button text="â¬… Retour"
            onAction="#handleBack"
            style="-fx-background-color: #34495e; -fx-text-fill: white; -fx-font-size: 14; -fx-background-radius: 8;"/>
</VBox>
